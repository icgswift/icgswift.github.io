(function(t){function e(e){for(var i,s,c=e[0],r=e[1],l=e[2],f=0,d=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"150e":function(t,e,n){"use strict";var i=n("bda9"),a=n.n(i);a.a},3576:function(t,e,n){},"3a1b":function(t,e,n){},"3a92":function(t,e,n){"use strict";var i=n("6639"),a=n.n(i);a.a},"43f0":function(t,e,n){},"46ea":function(t,e,n){"use strict";var i=n("43f0"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("a133"),n("ed0d"),n("f09c"),n("e117");var i=n("a593"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.msg?n("tabbar"):t._e(),n("router-view")],1)},o=[],s=n("e793"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("router-link",{attrs:{to:"/film",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-dianying"}),t._v(" 电影 ")]),n("router-link",{attrs:{to:"/cinema",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-yingyuan"}),t._v(" 影院 ")]),n("router-link",{attrs:{to:"/center",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-wode"}),t._v(" 个人中心 ")])],1)},r=[],l=(n("b489"),n("9ca4")),u={},f=Object(l["a"])(u,c,r,!1,null,"2d0f49c7",null),d=f.exports,m=n("9f3a"),p={beforeCreate:function(){var t=this.$store.state.token;t?console.log("存在token"):(console.log("不存在token"),this.$router.push("/login"))},components:{tabbar:d},computed:Object(s["a"])({},Object(m["b"])(["msg"]))},h=p,v=(n("5c0b"),Object(l["a"])(h,a,o,!1,null,null,null)),g=v.exports,b=n("3211"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrap",attrs:{id:"wrap"}},[n("div",{class:t.is?"isfixed":null},[n("p",{style:t.is?"display:block;":"display:none;"},[t._v("电影")]),n("div",{ref:"nav",attrs:{id:"nav"}},[n("ul",[n("router-link",{attrs:{to:"/film/nowplaying",tag:"li",activeClass:"myactive"}},[t._v("正在热映")]),n("router-link",{attrs:{to:"/film/commingsoon",tag:"li",activeClass:"myactive"}},[t._v("即将上映")])],1)])]),n("router-view",{ref:"expand"})],1)},_=[],w=n("82ae"),k=n.n(w),C={data:function(){return{list:["11","222","333"],is:!1}},mounted:function(){var t=this;k()({url:"https://m.maizuo.com/gateway?type=2&cityId=310100&k=9961578",mothod:"get",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"310100"}',"X-Host":"mall.cfg.common-banner"}}).then((function(e){t.list=e.data.data})),this.$refs.wrap.onscroll=this.scrollEvent},methods:{scrollEvent:function(){this.$refs.wrap.scrollTop<this.$refs.nav.offsetHeight?this.is=!1:(this.is=!0,this.$refs.wrap.scrollTop+window.screen.height>=this.$refs.expand.$el.offsetHeight&&this.$refs.expand.expand())}}},O=C,$=(n("e413"),Object(l["a"])(O,y,_,!1,null,"6e1aeb11",null)),j=$.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},t._l(t.cinemas,(function(e){return n("li",{key:e.cinemaId},[n("section",[n("h3",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.address))])]),n("button",{attrs:{onclick:"alert('系统建设中')"}},[t._v("查看")])])})),0)])},x=[],S=(n("04b4"),n("0f24")),E=n.n(S);i["default"].use(E.a);var X={data:function(){return{cinemas:[],loading:!1}},computed:Object(s["a"])({},Object(m["b"])(["cityId"])),mounted:function(){var t=this;k()({url:"https://m.maizuo.com/gateway?cityId=".concat(this.cityId,"&ticketFlag=1&k=1100545"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"440300"}',"X-Host":"mall.film-ticket.cinema.list"}}).then((function(e){t.cinemas=e.data.data.cinemas}))},methods:{loadMore:function(){console.log("到底了"),this.loading=!0}}},M=X,z=(n("3a92"),Object(l["a"])(M,I,x,!1,null,"2889c337",null)),L=z.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("WELCOME")]),t.token?n("h1",[t._v(t._s(t.token)+"用户")]):t._e(),t.token?n("button",{on:{click:t.login}},[t._v("切换")]):n("button",{on:{click:t.login}},[t._v("立即登录")])])},H=[],T="show",N="hide",A={computed:Object(s["a"])({},Object(m["b"])(["token"])),methods:{login:function(){this.$router.push("/login")}},beforeMount:function(){this.$store.commit(N)},beforeDestroy:function(){this.$store.commit(T)}},J=A,D=(n("b5e5"),Object(l["a"])(J,P,H,!1,null,"9c1f4be6",null)),G=D.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("h1",[t._v("请选择您所在的城市")]),n("v-region",{attrs:{area:!1},on:{values:t.regionChange}})],1)},V=[],W={methods:{regionChange:function(t){if(t.city){var e=t.city,n=e.key,i=e.value;switch(n){case"110000":n=110100;break;case"120000":n=120100;break;case"310000":n=310100;break;case"500000":n=500100}this.$store.commit("getCityId",n),this.$store.commit("setToken",i),this.$router.push("/film")}}},beforeMount:function(){this.$store.commit(N)},beforeDestroy:function(){this.$store.commit(T)}},q=W,B=(n("46ea"),Object(l["a"])(q,F,V,!1,null,null,null)),K=B.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"npwrap",attrs:{id:"npwrap"}},t._l(t.list,(function(e,i){return n("li",{key:i,staticClass:"filmPlayingOne"},[n("img",{attrs:{src:e.poster}}),n("section",[n("p",[t._v(" "+t._s(e.name)+" "),n("span",{staticStyle:{"background-color":"#d2d6dc","border-radius":"5%"}},[t._v(t._s(e.filmType.name)+" ")])]),n("span",{staticStyle:{display:"block",height:"1rem"}}),n("p",{style:e.grade?"display:block":"display:none;"},[t._v(" 观众评分 "),n("span",{staticStyle:{color:"orange"}},[t._v(t._s(e.grade))])]),n("p",{attrs:{id:"actors"}},[t._v(" 主演： "),t._l(e.actors,(function(e,i){return n("span",{key:i},[t._v(t._s(e.name)+" ")])}))],2)]),n("button",{on:{click:function(n){return t.handleClick(e.filmId)}}},[t._v("查看")])])})),0)},R=[],U=(n("b4fb"),n("fe59"),n("08ba"),n("8132"),n("ae18")),Y=n.n(U),Z=(n("a17e"),n("a886")),tt=n.n(Z),et={data:function(){return{list:[],pageNum:2}},computed:Object(s["a"])({},Object(m["b"])(["cityId"])),methods:{handleClick:function(t){tt()({message:"操作成功",iconClass:"icon iconfont icon-success"}),this.$router.push({name:"details",params:{id:t}})},expand:function(){var t=this;k()({url:"https://m.maizuo.com/gateway?cityId=".concat(this.cityId,"&pageNum=").concat(this.pageNum,"&pageSize=10&type=1&k=5491072"),method:"get",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"110100"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){e.data.data.films.forEach((function(e){t.list.push(e)})),t.pageNum++}))}},mounted:function(){var t=this;Y.a.open({text:"请稍等"}),k()({url:"https://m.maizuo.com/gateway?cityId=".concat(this.cityId,"&pageNum=1&pageSize=10&type=1&k=5491072"),method:"get",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"110100"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.list=e.data.data.films,Y.a.close()}))},updated:function(){console.log(this.list)}},nt=et,it=(n("5ded"),Object(l["a"])(nt,Q,R,!1,null,"b52cc754",null)),at=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cswrap"}},t._l(t.$store.getters.commingListGetter,(function(e){return n("li",{key:e.filmId,attrs:{id:"filmCommingOne"}},[n("img",{attrs:{src:e.poster}}),n("section",[n("p",[t._v(" "+t._s(e.name)+" "),n("span",{staticStyle:{"background-color":"#d2d6dc","border-radius":"5%"}},[t._v(t._s(e.filmType.name))])]),n("p",{attrs:{id:"actors"}},[t._v(" 主演： "),t._l(e.actors,(function(e,i){return n("span",{key:i},[t._v(t._s(e.name)+" ")])}))],2)]),n("button",{on:{click:function(n){return t.handleClick(e.filmId)}}},[t._v("查看")])])})),0)},st=[],ct={mounted:function(){0===this.$store.state.commingList.length?this.$store.dispatch("sendAJAX"):console.log("已取得数据")},methods:{handleClick:function(t){tt()({message:"操作成功",iconClass:"icon iconfont icon-success"}),this.$router.push({name:"details",params:{id:t}})}}},rt=ct,lt=(n("a43f"),Object(l["a"])(rt,ot,st,!1,null,"2ac78ce2",null)),ut=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.filmInfo?n("section",[n("header",[n("img",{staticClass:"target-img",attrs:{src:t.filmInfo.poster}})]),n("main",[n("h1",[t._v("演职人员")]),n("swiper",{staticClass:"actorSwiper",attrs:{preview:"2",myClass:"actorSwiper"}},t._l(t.filmInfo.actors,(function(e,i){return n("li",{key:i,staticClass:"swiper-slide"},[n("img",{attrs:{src:e.avatarAddress}}),n("p",[t._v(t._s(e.name))])])})),0)],1),n("footer",[n("h1",[t._v("剧照")]),n("swiper",{staticClass:"photoSwiper",attrs:{preview:"3",myClass:"photoSwiper"}},t._l(t.filmInfo.photos,(function(t,e){return n("li",{key:e,staticClass:"swiper-slide"},[n("img",{attrs:{src:t}})])})),0)],1)]):t._e()])},dt=[],mt=(n("488c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container detail-swiper-container"},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2)])}),pt=[],ht=n("c620"),vt={props:["preview","myClass"],mounted:function(){new ht["a"](".".concat(this.myClass),{slidesPerView:this.preview})}},gt=vt,bt=(n("83cd"),Object(l["a"])(gt,mt,pt,!1,null,"51585dbd",null)),yt=bt.exports,_t={data:function(){return{filmInfo:null}},mounted:function(){var t=this;console.log("detail挂载"),k()({url:"https://m.maizuo.com/gateway?filmId=".concat(this.$route.params.id,"&k=4345852"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"421000"}',"X-Host":"mall.film-ticket.film.info"}}).then((function(e){console.log("detail请求数据完毕"),t.filmInfo=e.data.data.film}))},components:{swiper:yt},beforeMount:function(){this.$store.commit(N)},beforeDestroy:function(){this.$store.commit(T)}},wt=_t,kt=(n("150e"),Object(l["a"])(wt,ft,dt,!1,null,"04485214",null)),Ct=kt.exports;i["default"].use(b["a"]);var Ot,$t=new b["a"]({mode:"hash",routes:[{path:"/film",component:j,children:[{path:"nowplaying",component:at},{path:"commingsoon",component:ut},{path:"",redirect:"nowplaying"}]},{path:"/details/:id",name:"details",component:Ct},{path:"/cinema",component:L},{path:"/center",component:G},{path:"/login",component:K},{path:"*",redirect:"/film"}]}),jt=$t,It=(n("dbb3"),n("ce3c"));i["default"].use(m["a"]);var xt=new m["a"].Store({state:{msg:!0,commingList:[],token:null,cityId:11e4},getters:{commingListGetter:function(t){return t.commingList.filter((function(t,e){return e<8}))}},mutations:(Ot={},Object(It["a"])(Ot,T,(function(t){t.msg=!0})),Object(It["a"])(Ot,N,(function(t){t.msg=!1})),Object(It["a"])(Ot,"getCommingList",(function(t,e){t.commingList=e})),Object(It["a"])(Ot,"getCityId",(function(t,e){t.cityId=e})),Object(It["a"])(Ot,"setToken",(function(t,e){t.token=e})),Ot),actions:{sendAJAX:function(t){k()({url:"https://m.maizuo.com/gateway?cityId=".concat(t.state.cityId,"&pageNum=1&pageSize=10&type=2&k=303160"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"15889854793526168150996","bc":"500100"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.commit("getCommingList",e.data.data.films)}))}}}),St=n("92d5"),Et=n.n(St);i["default"].use(Et.a),new i["default"]({router:jt,store:xt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("3576"),a=n.n(i);a.a},"5ded":function(t,e,n){"use strict";var i=n("3a1b"),a=n.n(i);a.a},6639:function(t,e,n){},6839:function(t,e,n){},"6ca5":function(t,e,n){},"83cd":function(t,e,n){"use strict";var i=n("dd41"),a=n.n(i);a.a},a43f:function(t,e,n){"use strict";var i=n("6839"),a=n.n(i);a.a},b489:function(t,e,n){"use strict";var i=n("da48"),a=n.n(i);a.a},b5e5:function(t,e,n){"use strict";var i=n("6ca5"),a=n.n(i);a.a},bda9:function(t,e,n){},da48:function(t,e,n){},dd41:function(t,e,n){},e413:function(t,e,n){"use strict";var i=n("f1a8"),a=n.n(i);a.a},f1a8:function(t,e,n){}});
//# sourceMappingURL=app.0326ad5e.js.map